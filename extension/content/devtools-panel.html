<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Security-Policy" content="default-src chrome:; object-src 'none'" />
    <link rel="stylesheet" type="text/css" href="style/autofill.css">
    <script src="autofill-inspector.js"></script>
    <script src="libs/html2canvas.min.js"></script>
    <script type="module" src="menu-button.mjs"></script>
  </head>
  <body class="theme-body">
    <div class="autofill-panel">
      <div id="field" class="devtools-toolbar" role="toolbar">
        <button id="autofill-inspect-start-button">Inspect</button>
        <span class="devtools-separator"></span>
        <label class="devtools-checkbox-label devtools-cache-checkbox">
          <input id="autofill-enable-ai-mode-button" type="checkbox" class="devtools-checkbox" checked/>
          AI Mode
        </label>
        <span class="devtools-separator"></span>
        <label class="devtools-checkbox-label devtools-cache-checkbox">
          <input id="autofill-show-invisible-button" type="checkbox" class="devtools-checkbox"/>
          Show Invisible
        </label>
        <span class="devtools-separator"></span>
        <label class="devtools-checkbox-label devtools-cache-checkbox">
          <input id="autofill-show-unknown-button" type="checkbox" class="devtools-checkbox"/>
          Show Unknown
        </label>
        <span class="devtools-separator"></span>
        <button id="autofill-inspect-element-button" title="Inspect Selected Element" class="devtools-button autofill-inspect-button"></button>
        <button id="autofill-edit-field-button" title="Edit A Field" class="devtools-button autofill-edit-field-button"></button>
        <span class="devtools-separator"></span>
        <span class="devtools-separator"></span>
        <button id="autofill-screenshot-button" title="Screenshot form" class="devtools-button autofill-screenshot-button"></button>
        <span class="devtools-separator"></span>
        <button id="autofill-download-button" title="Download the Web Page" class="devtools-button autofill-download-button"></button>
        <span class="devtools-separator"></span>
        <button id="autofill-generate-test-button" title="Generate A Testcase" class="devtools-button autofill-generate-test-button"></button>
        <span class="devtools-separator"></span>
        <label class="devtools-checkbox-label devtools-cache-checkbox">
          <input id="autofill-add-address-button" type="checkbox" class="devtools-checkbox"/>
          Show Test Address
        </label>
        <span class="devtools-separator"></span>
        <label class="devtools-checkbox-label devtools-cache-checkbox">
          <input id="autofill-add-credit-card-button" type="checkbox" class="devtools-checkbox"/>
          Show Test Credit Card
        </label>
        <span class="devtools-separator"></span>
        <menu-button id="autofill-setting-button" title="Setting" class="devtools-button autofill-setting-button"></menu-button>
      </div>
      <!-- Sibling panel (initially hidden) -->
      <div id="ai-mode-panel" class="split-panel" style="display: none;">
        <h3>Debug Output</h3>
        <div id="text-output" style="font-family: monospace; background-color: #f4f4f4; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd;"></div>

        <div class="split-panel-content">
          <h3>Upload Files</h3>
          <!-- Upload Button -->
          <input type="file" id="autofill-ai-mode-upload-button"/>
          <div id="file-list-container"></div>
          <h3>Opened Tabs</h3>
          <button id="autofill-ai-mode-open-tab-button">Query Opened Tab</button>
          <div id="tab-list-container"></div>
          <h3>Form Hisotry</h3>
        </div>
        <div id="splitter" class="splitter"></div>
      </div>
      <div id="inspect-mode-panel" class="field-list-container">
        <div class="field-list-scroll">
          <table class="field-list-table">
            <thead class="field-list-headers-group">
              <tr id="form-analysis-head-row" class="field-list-headers"></tr>
            </thead>
            <tbody id="form-analysis-table-body">
              <!-- data is generated in javascript -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="devtools-toolbar devtools-toolbar-bottom">
        <div class="status-bar-label autofill-progress-status">Status</div>
      </div>
    </div>

    <template id="menu-button-template">
      <link rel="stylesheet" type="text/css" href="style/menu-button.css">
      <ul class="menu" role="menu" hidden>
        <button id="menuitem-scroll-hover" role="menuitem" class="menuitem-button ghost-button">Scroll When Hover</button>
        <hr role="separator" class="menuitem-separator">
        <button id="menuitem-download-iframe" role="menuitem" class="menuitem-button ghost-button">Download Iframe</button>
      </ul>
    </template>
  </body>
</html>
